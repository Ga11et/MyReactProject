(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[6],{407:function(e,t,n){e.exports={main:"Message_main__3GCdo",leftDiv:"Message_leftDiv__1CayJ",rightDiv:"Message_rightDiv__1ppsR"}},408:function(e,t,n){e.exports={main:"Chat_main__SH-Kv"}},409:function(e,t,n){e.exports={main:"NewMessageForm_main__36m2S",textForm:"NewMessageForm_textForm__2FNOF",buttonForm:"NewMessageForm_buttonForm__EVhH1"}},410:function(e,t,n){e.exports={main:"ChatPage_main__13trq"}},418:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(26),c=n(146),i=n(407),r=n.n(i),o=n(3),u=function(e){var t=e.userMessage,n=t.photo,s=t.userName,a=t.message;return Object(o.jsxs)("section",{className:r.a.main,children:[Object(o.jsx)("div",{className:r.a.leftDiv,children:Object(o.jsx)("img",{src:n||"https://via.placeholder.com/100",alt:"avatar"})}),Object(o.jsxs)("div",{className:r.a.rightDiv,children:[Object(o.jsx)("label",{children:s}),Object(o.jsx)("p",{children:a})]})]})},l=n(408),j=n.n(l),m=function(){var e=Object(s.useRef)(null),t=Object(a.d)((function(e){return e.chat.messages}));Object(s.useEffect)((function(){var t;null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}),[t]);var n=t.map((function(e,t){return Object(o.jsx)(u,{userMessage:e},t)}));return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:j.a.main,children:[n,Object(o.jsx)("div",{ref:e})]})})},b=n(364),f=n(368),g=n(409),h=n.n(g),d=function(){var e=Object(a.c)(),t=Object(a.d)((function(e){return e.chat.isConnection}));console.log(t),Object(s.useEffect)((function(){}),[t]);var n=Object(s.useRef)(null),i=function(e){var t;"Enter"===e.key&&(null===(t=n.current)||void 0===t||t.click())};return Object(o.jsx)(f.c,{initialValues:{newMessage:""},onSubmit:function(t,n){var s=n.setSubmitting;s(!0),e(c.a.sendMessage(String(t.newMessage))),t.newMessage="",s(!1)},children:function(e){var s=e.isSubmitting;return Object(o.jsxs)(f.b,{className:h.a.main,children:[Object(o.jsx)(f.a,{component:"textarea",name:"newMessage",class:h.a.textForm,onKeyUp:i}),Object(o.jsx)(b.a,{type:"primary",htmlType:"submit",disabled:!t||s,className:h.a.buttonForm,ref:n,children:"Send"}),!t&&Object(o.jsx)("div",{children:"Connection lost..."})]})}})},v=n(410),O=n.n(v);t.default=function(){console.log(">>>>>>> ChatPage");var e=Object(a.c)();return Object(s.useEffect)((function(){return e(c.a.startMessagesListening()),function(){e(c.a.stopMessagesListening())}}),[]),Object(o.jsxs)("section",{className:O.a.main,children:[Object(o.jsx)(m,{}),Object(o.jsx)(d,{})]})}}}]);
//# sourceMappingURL=6.4bf5ccc9.chunk.js.map