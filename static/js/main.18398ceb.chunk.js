(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[1],{139:function(t,e,n){},220:function(t,e,n){},229:function(t,e,n){"use strict";n.r(e);n(139);var a=function(t){t&&t instanceof Function&&n.e(11).then(n.bind(null,315)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),a(t),r(t),i(t),o(t)}))},r=n(85),i=n(31),o=n(75),c=n(84),u=n(3),s={initialised:!1},l=function(){return{type:"INITIALISE_APP"}},f={initialiasationSuccess:function(){return function(t){var e=t(i.a.authMe());Promise.all([e]).then((function(){t(l())}))}}},d=n(62),p=n(76),b=n(23),h=n(24),m=n(25),j=n(26),g={links:[{name:"Profile",to:"/profile",id:1111},{name:"Messages",to:"/dialogs",id:2222},{name:"News",to:"/news",id:3333},{name:"Music",to:"/music",id:4444},{name:"Find people",to:"/find",id:5555},{name:"Settings",to:"/settings",id:6666}],friends:[{img:n(27).a,name:"Vadim",id:123},{img:h.a,name:"Fyodor",id:124},{img:m.a,name:"Kirill",id:125},{img:b.a,name:"Andrey",id:126},{img:j.a,name:"Sasha",id:127}]},O=n(30),v=Object(O.c)({auth:i.b,contentPage:d.c,dialogPage:p.b,findpeople:o.c,navPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return t},form:c.a,app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INITIALISE_APP":return Object(u.a)(Object(u.a)({},t),{},{initialised:!0});default:return t}}}),x=Object(O.e)(v,Object(O.a)(r.a)),y=n(57),w=(n(220),n(17)),_=n.p+"static/media/vk_icon.aacb54b4.svg",P=n(0),A=n.n(P),E=n(18),S=n(53),I=n.n(S),k=n(2),T=function(t){return Object(k.jsxs)("div",{className:I.a.main,children:[Object(k.jsx)("img",{src:t.vkIcon,alt:"vk_icon"}),Object(k.jsx)("div",{className:I.a.loginCont,children:Object(k.jsx)("div",{children:t.loginInfo.isAuth?Object(k.jsx)(E.b,{to:"/profile/".concat(t.loginInfo.userId),children:t.loginInfo.userName}):Object(k.jsx)(E.b,{to:"/login",children:"login"})})})]})},L=Object(w.b)((function(t){return{vkIcon:_,loginInfo:t.auth}}),{})((function(t){return Object(k.jsx)(T,Object(u.a)({},t))})),C=n(89),F=n.n(C),N=n(90),G=n.n(N),U=function(t){return Object(k.jsxs)("div",{className:G.a.main,children:[Object(k.jsx)("img",{src:t.img,alt:"avatar"}),Object(k.jsx)("p",{children:t.name})]})},D=function(t){var e=t.state.map((function(t){return Object(k.jsx)(U,{img:t.img,name:t.name},t.id)}));return Object(k.jsxs)("div",{className:F.a.main,children:[Object(k.jsx)("h3",{children:"Friends"}),Object(k.jsx)("div",{children:e})]})},M=n(91),B=n.n(M),H=n(56),R=n.n(H),z=function(t){return Object(k.jsx)("div",{className:R.a.main,children:Object(k.jsx)(E.b,{to:t.to,activeClassName:R.a.active,children:t.name})})},W=function(t){var e=t.state.links.map((function(t){return Object(k.jsx)(z,{name:t.name,to:t.to},t.id)}));return Object(k.jsxs)("div",{className:B.a.main,children:[e,Object(k.jsx)(D,{state:t.state.friends}),t.isAuth?Object(k.jsx)("p",{onClick:t.logout,children:"Log out"}):null]})},K={logout:i.a.logout},V=Object(w.b)((function(t){return{state:t.navPage,isAuth:t.auth.isAuth}}),K)((function(t){return Object(k.jsx)(W,Object(u.a)({},t))})),J=n(7),Q=n(46);function X(t){return function(e){return Object(k.jsx)(A.a.Suspense,{fallback:Object(k.jsx)(Q.a,{}),children:Object(k.jsx)(t,Object(u.a)({},e))})}}var Y=["initialiasationSuccess"],q=A.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,321))})),Z=A.a.lazy((function(){return n.e(7).then(n.bind(null,320))})),$=A.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,319))})),tt=A.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,322))})),et=A.a.lazy((function(){return n.e(9).then(n.bind(null,316))})),nt=A.a.lazy((function(){return n.e(8).then(n.bind(null,317))})),at=A.a.lazy((function(){return n.e(10).then(n.bind(null,318))})),rt={initialiasationSuccess:f.initialiasationSuccess},it=Object(O.d)(J.g,Object(w.b)((function(t){return{isAuth:t.app.initialised}}),rt))((function(t){var e=t.initialiasationSuccess,n=Object(y.a)(t,Y);return Object(P.useMemo)((function(){e()}),[e]),n.isAuth?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(L,{}),Object(k.jsxs)("div",{className:"main",children:[Object(k.jsx)(V,{}),Object(k.jsxs)(J.d,{children:[Object(k.jsx)(J.a,{exact:!0,from:"/",to:"/profile"}),Object(k.jsx)(J.b,{path:"/profile/:userId?",render:X($)}),Object(k.jsx)(J.b,{path:"/dialogs",render:X(q)}),Object(k.jsx)(J.b,{path:"/news",render:X(et)}),Object(k.jsx)(J.b,{path:"/music",render:X(nt)}),Object(k.jsx)(J.b,{path:"/find",render:X(Z)}),Object(k.jsx)(J.b,{path:"/settings",render:X(at)}),Object(k.jsx)(J.b,{path:"/login",render:X(tt)})]})]})]}):Object(k.jsx)(Q.a,{})})),ot=n(45);n.n(ot).a.render(Object(k.jsx)(w.a,{store:x,children:Object(k.jsx)(E.a,{basename:"/My_social_network",children:Object(k.jsx)(it,{})})}),document.getElementById("root")),a()},23:function(t,e,n){"use strict";e.a=n.p+"static/media/andrey.8cab7208.jpg"},24:function(t,e,n){"use strict";e.a=n.p+"static/media/fyodor.8864fbea.jpg"},25:function(t,e,n){"use strict";e.a=n.p+"static/media/kirill.195364cd.jpg"},26:function(t,e,n){"use strict";e.a=n.p+"static/media/sasha.f5320e26.jpg"},27:function(t,e,n){"use strict";e.a=n.p+"static/media/vadim.8abdb6ac.jpg"},31:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return p}));var a=n(5),r=n.n(a),i=n(8),o=n(3),c=n(33),u=n(9),s={userId:null,userName:null,userEmail:null,isAuth:!1,fieldError:null,captcha:null},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"AUTH_ME":return Object(o.a)(Object(o.a)({},t),e.data);case"FIND_ERROR":return Object(o.a)(Object(o.a)({},t),{},{fieldError:e.error});case"GET_CAPTCHA":return Object(o.a)(Object(o.a)({},t),{},{captcha:e.captchaUrl});default:return t}},f=function(t,e,n,a){return{type:"AUTH_ME",data:{userId:t,userEmail:e,userName:n,isAuth:a}}},d=function(t){return{type:"GET_CAPTCHA",captchaUrl:t}},p={authMe:function(){return function(){var t=Object(i.a)(r.a.mark((function t(e){var n,a,i,o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.isAuthCheck();case 2:0===(n=t.sent).resultCode&&(a=n.data,i=a.id,o=a.email,c=a.login,e(f(i,o,c,!0)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},postLoginData:function(t){return function(){var e=Object(i.a)(r.a.mark((function e(n){var a,i,o,s,l,p,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.postLoginDataApi(t);case 2:if(0!==(a=e.sent).resultCode){e.next=11;break}return e.next=6,u.a.isAuthCheck();case 6:0===(i=e.sent).resultCode&&(o=i.data,s=o.id,l=o.email,p=o.login,n(f(s,l,p,!0))),n(d(null)),e.next=17;break;case 11:if(n(Object(c.a)("login",{_error:a.messages[0]})),10!==a.resultCode){e.next=17;break}return e.next=15,u.a.getCaptchaApi();case 15:b=e.sent,n(d(b));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},logout:function(){return function(){var t=Object(i.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.logoutApi();case 2:0===t.sent&&e(f(null,null,null,!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}},46:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0);var a=n(83),r=n(2),i=function(){return Object(r.jsx)("img",{src:a.a,alt:"preloader"})}},53:function(t,e,n){t.exports={main:"header_main__3UPcW",loginCont:"header_loginCont__201P4"}},56:function(t,e,n){t.exports={main:"navlink_main__131tj",active:"navlink_active__2z4Ca"}},62:function(t,e,n){"use strict";n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p}));var a=n(5),r=n.n(a),i=n(8),o=n(21),c=n(3),u=n(33),s=n(9),l={profile:{},posts:[{id:1,message:"Are there somebody, who is more clever then me?"},{id:2,message:"Learning React.."},{id:3,message:"I'm broken, bro"},{id:4,message:"I want to say something"}],status:"write something",successed:!1},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_POST":var n={id:5,message:e.text};return Object(c.a)(Object(c.a)({},t),{},{posts:[].concat(Object(o.a)(t.posts),[n])});case"SET_PROFILE":return Object(c.a)(Object(c.a)({},t),{},{profile:e.profile});case"GET_STATUS":return Object(c.a)(Object(c.a)({},t),{},{status:e.status});case"SET_PROFILE_SUCCESS":return Object(c.a)(Object(c.a)({},t),{},{successed:e.isTrue});case"DELETE_POST":return Object(c.a)(Object(c.a)({},t),{},{posts:Object(o.a)(t.posts.filter((function(t){return t.id!==e.postId})))});case"SET_PROFILE_PHOTO":return Object(c.a)(Object(c.a)({},t),{},{profile:Object(c.a)(Object(c.a)({},t.profile),{},{photos:e.photos})});default:return t}},d={createNewPost:function(t){return{type:"ADD_POST",text:t}},setProfile:function(t){return{type:"SET_PROFILE",profile:t}},getStatus:function(t){return{type:"GET_STATUS",status:t}},successed:function(t){return{type:"SET_PROFILE_SUCCESS",isTrue:t}},deletePost:function(t){return{type:"DELETE_POST",postId:t}},newProfilePhoto:function(t){return{type:"SET_PROFILE_PHOTO",photos:t}}},p={getUserInfo:function(t){return function(){var e=Object(i.a)(r.a.mark((function e(n){var a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(d.successed(!1)),e.next=3,s.a.getUser(t);case 3:return a=e.sent,n(d.setProfile(a)),e.next=7,s.a.getStatusApi(t);case 7:i=e.sent,n(d.getStatus(i)),n(d.successed(!0));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},putStatus:function(t){return function(){var e=Object(i.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.putStatusApi(t);case 2:0===e.sent&&n(d.getStatus(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},changeProfilePhoto:function(t){return function(){var e=Object(i.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.putProfilePhotoApi(t);case 2:0===(a=e.sent).resultCode&&n(d.newProfilePhoto(a.data.photos));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},profileFormSubmit:function(t){return function(){var e=Object(i.a)(r.a.mark((function e(n,a){var i,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a().auth.userId,e.next=3,s.a.profileFormSubmitApi(t);case 3:if(0!==(o=e.sent).resultCode){e.next=11;break}return e.next=7,s.a.getUser(i);case 7:c=e.sent,n(d.setProfile(c)),e.next=13;break;case 11:return n(Object(u.a)("profileForm",{_error:o.messages[0]})),e.abrupt("return",Promise.reject(o.messages[0]));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}},75:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return j}));var a=n(5),r=n.n(a),i=n(8),o=n(21),c=n(3),u=n(9),s=n(23),l=n(24),f=n(25),d=n(26),p=n(27),b={people:[{id:1,followed:!0,photos:{small:s.a,large:s.a},name:"Andrey",status:"I'm not gay",location:{city:"London",country:"Great Britan"}},{id:2,followed:!1,photos:{small:l.a,large:l.a},name:"Fyodor",status:"Hi, i'm your boss",location:{city:"Syktyvkar",country:"Russia"}},{id:3,followed:!1,photos:{small:f.a,large:f.a},name:"Kirill",status:"I live in Moskow",location:{city:"Moskow",country:"Russia"}},{id:4,followed:!1,photos:{small:d.a,large:d.a},name:"Sasha",status:"Hahaahahahaha",location:{city:"Syktyvkar",country:"Russia"}},{id:5,followed:!0,photos:{small:p.a,large:p.a},name:"Vadim",status:"Stop calling me Huim",location:{city:"Kiev",country:"Ukraine"}}],countPages:1e4,countPeopleOnPage:10,active:0,isLoading:!1,arrayButtonsLoading:[]},h=function(t,e,n){return t.map((function(t){var a=t;return t.id===e&&(a=Object(c.a)(Object(c.a)({},t),{},{followed:n})),a}))},m={follow:function(t){return{type:"FOLLOW",userId:t}},unFollow:function(t){return{type:"UNFOLLOW",userId:t}},showMore:function(t){return{type:"GET_PEOPLE",people:t}},changeActivePage:function(t){return{type:"CHANGE_ACTIVE_PAGE",number:t}},toggleLoading:function(t){return{type:"TOGGLE_LOADING",toggle:t}},toggleButton:function(t,e){return{type:"TOGGLE_BUTTON",bool:t,userId:e}}},j={showPeople:function(t,e){return function(){var n=Object(i.a)(r.a.mark((function n(a){var i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(m.toggleLoading(!0)),n.next=3,u.a.getPeople(t,e);case 3:i=n.sent,a(m.toggleLoading(!1)),a(m.showMore(i));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},followPerson:function(t){return function(){var e=Object(i.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(m.toggleButton(!0,t)),e.next=3,u.a.postFollow(t);case 3:0===e.sent&&n(m.follow(t)),n(m.toggleButton(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},unFollowPerson:function(t){return function(){var e=Object(i.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(m.toggleButton(!0,t)),e.next=3,u.a.deleteFollow(t);case 3:0===e.sent&&n(m.unFollow(t)),n(m.toggleButton(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};e.c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FOLLOW":return Object(c.a)(Object(c.a)({},t),{},{people:h(t.people,e.userId,!0)});case"UNFOLLOW":return Object(c.a)(Object(c.a)({},t),{},{people:h(t.people,e.userId,!1)});case"GET_PEOPLE":var n=Object(c.a)(Object(c.a)({},t),{},{people:[]});return e.people.forEach((function(t){return n.people.push(t)})),n;case"CHANGE_ACTIVE_PAGE":return Object(c.a)(Object(c.a)({},t),{},{active:e.number});case"TOGGLE_LOADING":return Object(c.a)(Object(c.a)({},t),{},{isLoading:e.toggle});case"TOGGLE_BUTTON":return Object(c.a)(Object(c.a)({},t),{},{arrayButtonsLoading:e.bool?[].concat(Object(o.a)(t.arrayButtonsLoading),[e.userId]):Object(o.a)(t.arrayButtonsLoading.filter((function(t){return t!==e.userId})))});default:return t}}},76:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f}));var a=n(21),r=n(3),i=n(23),o=n(24),c=n(25),u=n(26),s={persons:[{img:n(27).a,url:"vadim",name:"Vadim",id:1},{img:o.a,url:"fyodor",name:"Fyodor",id:2},{img:c.a,url:"kirill",name:"Kirill",id:4},{img:i.a,url:"andrey",name:"Andrey",id:3},{img:u.a,url:"sasha",name:"Sasha",id:5}],messages:[{author:"you",id:1,message:"Hello there"},{author:"not",id:2,message:"Hi man"},{author:"you",id:3,message:"How are you"},{author:"not",id:4,message:"I'm good"}]},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_MESSAGE":var n={author:"you",id:7,message:e.text};return Object(r.a)(Object(r.a)({},t),{},{messages:[].concat(Object(a.a)(t.messages),[n])});default:return t}},f={newMessage:function(t){return{type:"ADD_MESSAGE",text:t}}}},83:function(t,e,n){"use strict";e.a=n.p+"static/media/loading.40bf3942.svg"},89:function(t,e,n){t.exports={main:"friends_main__2Xj0f"}},9:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n(5),r=n.n(a),i=n(8),o=n(86),c=n.n(o),u=n(87),s=n.n(u),l=c.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"48f5b1a7-6286-4f77-9a40-f9b16f3f5224"}}),f={getPeople:function(t,e){return l.get("users?page=".concat(t,"&count=").concat(e)).then((function(t){return t.data.items}))},postFollow:function(t){return l.post("follow/".concat(t)).then((function(t){return t.data.resultCode}))},deleteFollow:function(t){return l.delete("follow/".concat(t)).then((function(t){return t.data.resultCode}))},isAuthCheck:function(){return l.get("auth/me").then((function(t){return t.data}))},getUser:function(t){return l.get("profile/".concat(t)).then((function(t){return t.data}))},getStatusApi:function(t){return l.get("profile/status/".concat(t)).then((function(t){return t.data}))},putStatusApi:function(t){return l.put("profile/status",{status:t}).then((function(t){return t.data.resultCode}))},postLoginDataApi:function(t){var e=t.email,n=t.password,a=t.rememberMe,r=t.captcha;return l.post("auth/login",{email:e,password:n,rememberMe:a,captcha:r}).then((function(t){return t.data}))},getCaptchaApi:function(){var t=Object(i.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.get("security/get-captcha-url");case 2:return e=t.sent,t.abrupt("return",e.data.url);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),logoutApi:function(){return l.delete("auth/login").then((function(t){return t.data.resultCode}))},putProfilePhotoApi:function(){var t=Object(i.a)(r.a.mark((function t(e){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new s.a).append("image",e),t.next=4,l.put("profile/photo",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return a=t.sent,t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),profileFormSubmitApi:function(){var t=Object(i.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.put("profile",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},90:function(t,e,n){t.exports={main:"friend_main__1S5Q_"}},91:function(t,e,n){t.exports={main:"nav_main___aWJm"}}},[[229,2,3]]]);
//# sourceMappingURL=main.18398ceb.chunk.js.map