{"version":3,"sources":["things/component/error/error.jsx","things/component/error/error.module.css","things/component/validatior/valodator.js","hoc/withAuthRedirect.js","things/dialogs/dialogs.module.css","things/dialogs/dialogscomponents/person/person.module.css","things/dialogs/dialogscomponents/message/message.module.css","things/dialogs/dialogscomponents/person/person.jsx","things/dialogs/dialogscomponents/message/message.jsx","things/dialogs/dialogs.jsx","things/dialogs/dialogsContainer.jsx"],"names":["ErrorSpan","props","className","css","item","content","module","exports","required","value","undefined","maxLengthCreator","maxValue","length","withAuthRedirect","Component","connect","state","isAuth","auth","to","Person","main","url","activeClassName","active","src","img","alt","name","Message","author","you","message","undertext","Dialogs","submit","data","newMessage","textWriting","personComponents","this","persons","map","el","id","messageComponents","messages","columns","DialogFormRedux","onSubmit","React","maxLength30","Textarea","input","meta","haveError","error","touched","errorMessage","reduxForm","form","handleSubmit","Field","component","validate","DialogsContainer","compose","dialogPage"],"mappings":"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","file":"static/js/5.2c62d23c.chunk.js","sourcesContent":["import css from './error.module.css'\r\n\r\nexport const ErrorSpan = (props) => {\r\n    return <span className={css.item} {...props}>{props.content}</span>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"error_item__2NDaC\"};","\r\nexport const required = (value) => {\r\n    if (value === undefined) return \"Required field\"\r\n    return undefined\r\n}\r\n\r\nexport const maxLengthCreator = (maxValue) => (value) => {\r\n    if (value && value.length > maxValue) return `Maximum: ${maxValue} simbols`\r\n    return undefined\r\n}\r\n\r\nexport const submitValidator = (values) => {\r\n    console.log(values)\r\n}","import { connect } from \"react-redux\"\r\nimport { Redirect } from \"react-router-dom\"\r\n\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    const RedirectComponent = (props) => {\r\n        return <>\r\n            {!props.isAuth && <Redirect to=\"/login\" />}\r\n            <Component {...props} />\r\n        </>\r\n    }\r\n\r\n    const mapStateToProps = (state) => ({\r\n        isAuth: state.auth.isAuth\r\n    })\r\n\r\n    const withAuthRedirectConnect = connect(mapStateToProps)(RedirectComponent)\r\n\r\n    return withAuthRedirectConnect\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"dialogs_item__2QM9W\",\"columns\":\"dialogs_columns__32YIa\",\"messages\":\"dialogs_messages__2jcwO\",\"error\":\"dialogs_error__36W7K\",\"errorMessage\":\"dialogs_errorMessage__IfXuF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"person_main__JMapI\",\"active\":\"person_active__FODx5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"message_main__1njF4\",\"you\":\"message_you__3fZNt\",\"undertext\":\"message_undertext__p57gY\"};","import { NavLink } from 'react-router-dom'\r\nimport css from './person.module.css'\r\n\r\nconst Person = (props) => {\r\n    return (\r\n        <div className={css.main}>\r\n            <NavLink to={\"/dialogs/\" + props.url} activeClassName={css.active}>\r\n                <img src={props.img} alt={props.url}/>\r\n                <label>{props.name}</label>\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Person","import css from './message.module.css'\r\n\r\n\r\nconst Message = (props) => {\r\n    if (props.author === \"you\") return (\r\n        <div className={`${css.main} ${css.you}`}>\r\n            <div>\r\n                <p>{props.message}</p>\r\n                <p className={css.undertext}>{props.author}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n    else return (\r\n        <div className={`${css.main}`}>\r\n            <div>\r\n                <p>{props.message}</p>\r\n                <p className={css.undertext}>{props.author}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Message","import css from './dialogs.module.css'\r\nimport Person from './dialogscomponents/person/person'\r\nimport Message from './dialogscomponents/message/message'\r\nimport React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { ErrorSpan } from '../component/error/error'\r\nimport { maxLengthCreator, required } from '../component/validatior/valodator'\r\n\r\n\r\nclass Dialogs extends React.Component {\r\n\r\n    submit = (data) => {\r\n        this.props.newMessage(data.textWriting)\r\n    }\r\n\r\n    render() {\r\n        \r\n        let personComponents = this.props.persons.map(el => <Person key={el.id} img={el.img} url={el.url} name={el.name} />)\r\n        let messageComponents = this.props.messages.map(el => <Message key={el.id} author={el.author} message={el.message} />)\r\n\r\n        return (\r\n            <div className={css.item}>\r\n                <h2>Dialogs</h2>\r\n                <div className={css.columns}>\r\n                    <div>\r\n                        {personComponents}\r\n                    </div>\r\n                    <div className={css.messages}>\r\n                        <div>\r\n                            {messageComponents}\r\n                        </div>\r\n                        <DialogFormRedux onSubmit={this.submit} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst maxLength30 = maxLengthCreator(30)\r\n\r\nconst DialogForm = (props) => {\r\n    return <>\r\n    <form onSubmit={props.handleSubmit}>\r\n        <Field component={Textarea} name=\"textWriting\" validate={[required, maxLength30]}/>\r\n        <button>Send</button>\r\n    </form>\r\n    </>\r\n}\r\n\r\nconst Textarea = ({input, meta, ...props}) => {\r\n    const haveError = meta.error && meta.touched\r\n    return <div className={haveError ? css.error : \"\"} >\r\n    <div className={css.errorMessage}>{haveError && <ErrorSpan content={meta.error} />}</div>\r\n    <textarea {...input} {...props}  />\r\n</div>\r\n}\r\n\r\nconst DialogFormRedux = reduxForm({ form: \"dialogWriting\" })(DialogForm)\r\n\r\nexport default Dialogs","import { newMessage } from '../../redux/dialogsReducer'\r\nimport Dialogs from './dialogs'\r\nimport {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nclass DialogsContainer extends React.Component {\r\n    render() {\r\n        return <Dialogs {...this.props} />\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        persons: state.dialogPage.persons,\r\n        messages: state.dialogPage.messages,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, { newMessage })\r\n)(DialogsContainer)"],"sourceRoot":""}