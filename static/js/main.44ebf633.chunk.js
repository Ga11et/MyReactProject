(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[1],{139:function(t,e,n){},220:function(t,e,n){},229:function(t,e,n){"use strict";n.r(e);n(139);var r=function(t){t&&t instanceof Function&&n.e(12).then(n.bind(null,325)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),r(t),a(t),i(t),o(t)}))},a=n(85),i=n(31),o=n(76),c=n(84),u=n(5),s=n.n(u),l=n(8),f=n(3),p={initialised:!1},d=function(){return{type:"INITIALISE_APP"}},m={initialiasationSuccess:function(){return function(){var t=Object(l.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e(i.a.authMe()),t.next=3,Promise.all([n]);case 3:e(d());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},b=n(62),h=n(77),j=n(23),g=n(24),O=n(25),v=n(26),x={links:[{name:"Profile",to:"/profile",id:1111},{name:"Messages",to:"/dialogs",id:2222},{name:"News",to:"/news",id:3333},{name:"Music",to:"/music",id:4444},{name:"Find people",to:"/find",id:5555},{name:"Settings",to:"/settings",id:6666}],friends:[{img:n(27).a,name:"Vadim",id:123},{img:g.a,name:"Fyodor",id:124},{img:O.a,name:"Kirill",id:125},{img:j.a,name:"Andrey",id:126},{img:v.a,name:"Sasha",id:127}]},y=n(30),w=Object(y.c)({auth:i.b,contentPage:b.c,dialogPage:h.b,findpeople:o.c,navPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;return t},form:c.a,app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INITIALISE_APP":return Object(f.a)(Object(f.a)({},t),{},{initialised:!0});default:return t}}}),P=Object(y.e)(w,Object(y.a)(a.a)),_=n(57),E=(n(220),n(17)),A=n.p+"static/media/vk_icon.aacb54b4.svg",S=n(0),T=n.n(S),I=n(18),k=n(53),C=n.n(k),L=n(2),F=function(t){return Object(L.jsxs)("div",{className:C.a.main,children:[Object(L.jsx)("img",{src:t.vkIcon,alt:"vk_icon"}),Object(L.jsx)("div",{className:C.a.loginCont,children:Object(L.jsx)("div",{children:t.loginInfo.isAuth?Object(L.jsx)(I.b,{to:"/profile/".concat(t.loginInfo.userId),children:t.loginInfo.userName}):Object(L.jsx)(I.b,{to:"/login",children:"login"})})})]})},N=Object(E.b)((function(t){return{vkIcon:A,loginInfo:t.auth}}),{})((function(t){return Object(L.jsx)(F,Object(f.a)({},t))})),U=n(89),G=n.n(U),M=n(90),R=n.n(M),D=function(t){return Object(L.jsxs)("div",{className:R.a.main,children:[Object(L.jsx)("img",{src:t.img,alt:"avatar"}),Object(L.jsx)("p",{children:t.name})]})},H=function(t){var e=t.state.map((function(t){return Object(L.jsx)(D,{img:t.img,name:t.name},t.id)}));return Object(L.jsxs)("div",{className:G.a.main,children:[Object(L.jsx)("h3",{children:"Friends"}),Object(L.jsx)("div",{children:e})]})},B=n(91),z=n.n(B),W=n(56),K=n.n(W),V=function(t){return Object(L.jsx)("div",{className:K.a.main,children:Object(L.jsx)(I.b,{to:t.to,activeClassName:K.a.active,children:t.name})})},J=function(t){var e=t.state.links.map((function(t){return Object(L.jsx)(V,{name:t.name,to:t.to},t.id)}));return Object(L.jsxs)("div",{className:z.a.main,children:[e,Object(L.jsx)(H,{state:t.state.friends}),t.isAuth?Object(L.jsx)("p",{onClick:t.logout,children:"Log out"}):null]})},Q={logout:i.a.logout},X=Object(E.b)((function(t){return{state:t.navPage,isAuth:t.auth.isAuth}}),Q)((function(t){return Object(L.jsx)(J,Object(f.a)({},t))})),Y=n(7),q=n(46);function Z(t){return function(e){return Object(L.jsx)(T.a.Suspense,{fallback:Object(L.jsx)(q.a,{}),children:Object(L.jsx)(t,Object(f.a)({},e))})}}var $=["initialiasationSuccess"],tt=T.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,331))})),et=T.a.lazy((function(){return Promise.all([n.e(6),n.e(7)]).then(n.bind(null,330))})),nt=T.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,329))})),rt=T.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,332))})),at=T.a.lazy((function(){return n.e(10).then(n.bind(null,326))})),it=T.a.lazy((function(){return n.e(9).then(n.bind(null,327))})),ot=T.a.lazy((function(){return n.e(11).then(n.bind(null,328))})),ct={initialiasationSuccess:m.initialiasationSuccess},ut=Object(y.d)(Y.g,Object(E.b)((function(t){return{isAuth:t.app.initialised}}),ct))((function(t){var e=t.initialiasationSuccess,n=Object(_.a)(t,$);return Object(S.useMemo)((function(){e()}),[e]),n.isAuth?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(N,{}),Object(L.jsxs)("div",{className:"main",children:[Object(L.jsx)(X,{}),Object(L.jsxs)(Y.d,{children:[Object(L.jsx)(Y.a,{exact:!0,from:"/",to:"/profile"}),Object(L.jsx)(Y.b,{path:"/profile/:userId?",render:Z(nt)}),Object(L.jsx)(Y.b,{path:"/dialogs",render:Z(tt)}),Object(L.jsx)(Y.b,{path:"/news",render:Z(at)}),Object(L.jsx)(Y.b,{path:"/music",render:Z(it)}),Object(L.jsx)(Y.b,{path:"/find",render:Z(et)}),Object(L.jsx)(Y.b,{path:"/settings",render:Z(ot)}),Object(L.jsx)(Y.b,{path:"/login",render:Z(rt)})]})]})]}):Object(L.jsx)(q.a,{})})),st=n(45);n.n(st).a.render(Object(L.jsx)(E.a,{store:P,children:Object(L.jsx)(I.a,{basename:"/MyReactProject",children:Object(L.jsx)(ut,{})})}),document.getElementById("root")),r()},23:function(t,e,n){"use strict";e.a=n.p+"static/media/andrey.8cab7208.jpg"},24:function(t,e,n){"use strict";e.a=n.p+"static/media/fyodor.8864fbea.jpg"},25:function(t,e,n){"use strict";e.a=n.p+"static/media/kirill.195364cd.jpg"},26:function(t,e,n){"use strict";e.a=n.p+"static/media/sasha.f5320e26.jpg"},27:function(t,e,n){"use strict";e.a=n.p+"static/media/vadim.8abdb6ac.jpg"},31:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return d}));var r=n(5),a=n.n(r),i=n(8),o=n(3),c=n(33),u=n(9),s={userId:null,userName:null,userEmail:null,isAuth:!1,fieldError:null,captcha:null},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"AUTH_ME":return Object(o.a)(Object(o.a)({},t),e.data);case"FIND_ERROR":return Object(o.a)(Object(o.a)({},t),{},{fieldError:e.error});case"GET_CAPTCHA":return Object(o.a)(Object(o.a)({},t),{},{captcha:e.captchaUrl});default:return t}},f=function(t,e,n,r){return{type:"AUTH_ME",data:{userId:t,userEmail:e,userName:n,isAuth:r}}},p=function(t){return{type:"GET_CAPTCHA",captchaUrl:t}},d={authMe:function(){return function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,i,o,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.isAuthCheck();case 2:0===(n=t.sent).resultCode&&(r=n.data,i=r.id,o=r.email,c=r.login,e(f(i,o,c,!0)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},postLoginData:function(t){return function(){var e=Object(i.a)(a.a.mark((function e(n){var r,i,o,s,l,d,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.postLoginDataApi(t);case 2:if(0!==(r=e.sent).resultCode){e.next=11;break}return e.next=6,u.a.isAuthCheck();case 6:0===(i=e.sent).resultCode&&(o=i.data,s=o.id,l=o.email,d=o.login,n(f(s,l,d,!0))),n(p(null)),e.next=17;break;case 11:if(n(Object(c.a)("login",{_error:r.messages[0]})),10!==r.resultCode){e.next=17;break}return e.next=15,u.a.getCaptchaApi();case 15:m=e.sent,n(p(m));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},logout:function(){return function(){var t=Object(i.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.logoutApi();case 2:0===t.sent&&e(f(null,null,null,!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}},46:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0);var r=n(83),a=n(2),i=function(){return Object(a.jsx)("img",{src:r.a,alt:"preloader"})}},53:function(t,e,n){t.exports={main:"header_main__3UPcW",loginCont:"header_loginCont__201P4"}},56:function(t,e,n){t.exports={main:"navlink_main__131tj",active:"navlink_active__2z4Ca"}},62:function(t,e,n){"use strict";n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return d}));var r=n(5),a=n.n(r),i=n(8),o=n(21),c=n(3),u=n(33),s=n(9),l={profile:{},posts:[{id:1,message:"Are there somebody, who is more clever then me?"},{id:2,message:"Learning React.."},{id:3,message:"I'm broken, bro"},{id:4,message:"I want to say something"}],status:"write something",successed:!1},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_POST":var n={id:5,message:e.text};return Object(c.a)(Object(c.a)({},t),{},{posts:[].concat(Object(o.a)(t.posts),[n])});case"SET_PROFILE":return Object(c.a)(Object(c.a)({},t),{},{profile:e.profile});case"GET_STATUS":return Object(c.a)(Object(c.a)({},t),{},{status:e.status});case"SET_PROFILE_SUCCESS":return Object(c.a)(Object(c.a)({},t),{},{successed:e.isTrue});case"DELETE_POST":return Object(c.a)(Object(c.a)({},t),{},{posts:Object(o.a)(t.posts.filter((function(t){return t.id!==e.postId})))});case"SET_PROFILE_PHOTO":return Object(c.a)(Object(c.a)({},t),{},{profile:Object(c.a)(Object(c.a)({},t.profile),{},{photos:e.photos})});default:return t}},p={createNewPost:function(t){return{type:"ADD_POST",text:t}},setProfile:function(t){return{type:"SET_PROFILE",profile:t}},setStatus:function(t){return{type:"GET_STATUS",status:t}},successed:function(t){return{type:"SET_PROFILE_SUCCESS",isTrue:t}},deletePost:function(t){return{type:"DELETE_POST",postId:t}},newProfilePhoto:function(t){return{type:"SET_PROFILE_PHOTO",photos:t}}},d={getUserInfo:function(t){return function(){var e=Object(i.a)(a.a.mark((function e(n){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(p.successed(!1)),e.next=3,s.a.getUser(t);case 3:return r=e.sent,n(p.setProfile(r)),e.next=7,s.a.getStatusApi(t);case 7:i=e.sent,n(p.setStatus(i)),n(p.successed(!0));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},putStatus:function(t){return function(){var e=Object(i.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.putStatusApi(t);case 2:0===e.sent&&n(p.setStatus(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},changeProfilePhoto:function(t){return function(){var e=Object(i.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.putProfilePhotoApi(t);case 2:0===(r=e.sent).resultCode&&n(p.newProfilePhoto(r.data.photos));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},profileFormSubmit:function(t){return function(){var e=Object(i.a)(a.a.mark((function e(n,r){var i,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r().auth.userId,e.next=3,s.a.profileFormSubmitApi(t);case 3:if(0!==(o=e.sent).resultCode){e.next=11;break}return e.next=7,s.a.getUser(i);case 7:c=e.sent,n(p.setProfile(c)),e.next=13;break;case 11:return n(Object(u.a)("profileForm",{_error:o.messages[0]})),e.abrupt("return",Promise.reject(o.messages[0]));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}},76:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return j}));var r=n(5),a=n.n(r),i=n(8),o=n(21),c=n(3),u=n(9),s=n(23),l=n(24),f=n(25),p=n(26),d=n(27),m={people:[{id:1,followed:!0,photos:{small:s.a,large:s.a},name:"Andrey",status:"I'm not gay",location:{city:"London",country:"Great Britan"}},{id:2,followed:!1,photos:{small:l.a,large:l.a},name:"Fyodor",status:"Hi, i'm your boss",location:{city:"Syktyvkar",country:"Russia"}},{id:3,followed:!1,photos:{small:f.a,large:f.a},name:"Kirill",status:"I live in Moskow",location:{city:"Moskow",country:"Russia"}},{id:4,followed:!1,photos:{small:p.a,large:p.a},name:"Sasha",status:"Hahaahahahaha",location:{city:"Syktyvkar",country:"Russia"}},{id:5,followed:!0,photos:{small:d.a,large:d.a},name:"Vadim",status:"Stop calling me Huim",location:{city:"Kiev",country:"Ukraine"}}],countPeople:1e4,countPeopleOnPage:10,active:0,isLoading:!1,arrayButtonsLoading:[],searchForm:{term:"",friend:""}},b=function(t,e,n){return t.map((function(t){var r=t;return t.id===e&&(r=Object(c.a)(Object(c.a)({},t),{},{followed:n})),r}))},h={follow:function(t){return{type:"FOLLOW",userId:t}},unFollow:function(t){return{type:"UNFOLLOW",userId:t}},showMore:function(t){return{type:"GET_PEOPLE",people:t}},changeActivePage:function(t){return{type:"CHANGE_ACTIVE_PAGE",number:t}},toggleLoading:function(t){return{type:"TOGGLE_LOADING",toggle:t}},toggleButton:function(t,e){return{type:"TOGGLE_BUTTON",bool:t,userId:e}},putSearchForm:function(t){return{type:"PUT_SEARCH_FORM",formik:t}},putCountPeople:function(t){return{type:"PUT_COUNT_PEOPLE",newCount:t}}},j={showPeople:function(t,e,n){return function(){var r=Object(i.a)(a.a.mark((function r(i,o){var c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i(h.toggleLoading(!0)),r.next=3,u.a.getPeople(t,e,n);case 3:c=r.sent,i(h.toggleLoading(!1)),i(h.putCountPeople(c.totalCount)),i(h.showMore(c.items));case 7:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}()},followPerson:function(t){return function(){var e=Object(i.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(h.toggleButton(!0,t)),e.next=3,u.a.postFollow(t);case 3:0===e.sent&&n(h.follow(t)),n(h.toggleButton(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},unFollowPerson:function(t){return function(){var e=Object(i.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(h.toggleButton(!0,t)),e.next=3,u.a.deleteFollow(t);case 3:0===e.sent&&n(h.unFollow(t)),n(h.toggleButton(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};e.c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FOLLOW":return Object(c.a)(Object(c.a)({},t),{},{people:b(t.people,e.userId,!0)});case"UNFOLLOW":return Object(c.a)(Object(c.a)({},t),{},{people:b(t.people,e.userId,!1)});case"GET_PEOPLE":var n=Object(c.a)(Object(c.a)({},t),{},{people:[]});return e.people.forEach((function(t){return n.people.push(t)})),n;case"CHANGE_ACTIVE_PAGE":return Object(c.a)(Object(c.a)({},t),{},{active:e.number});case"TOGGLE_LOADING":return Object(c.a)(Object(c.a)({},t),{},{isLoading:e.toggle});case"TOGGLE_BUTTON":return Object(c.a)(Object(c.a)({},t),{},{arrayButtonsLoading:e.bool?[].concat(Object(o.a)(t.arrayButtonsLoading),[e.userId]):Object(o.a)(t.arrayButtonsLoading.filter((function(t){return t!==e.userId})))});case"PUT_SEARCH_FORM":return Object(c.a)(Object(c.a)({},t),{},{searchForm:e.formik});case"PUT_COUNT_PEOPLE":return Object(c.a)(Object(c.a)({},t),{},{countPeople:e.newCount});default:return t}}},77:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f}));var r=n(21),a=n(3),i=n(23),o=n(24),c=n(25),u=n(26),s={persons:[{img:n(27).a,url:"vadim",name:"Vadim",id:1},{img:o.a,url:"fyodor",name:"Fyodor",id:2},{img:c.a,url:"kirill",name:"Kirill",id:4},{img:i.a,url:"andrey",name:"Andrey",id:3},{img:u.a,url:"sasha",name:"Sasha",id:5}],messages:[{author:"you",id:1,message:"Hello there"},{author:"not",id:2,message:"Hi man"},{author:"you",id:3,message:"How are you"},{author:"not",id:4,message:"I'm good"}]},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_MESSAGE":var n={author:"you",id:7,message:e.text};return Object(a.a)(Object(a.a)({},t),{},{messages:[].concat(Object(r.a)(t.messages),[n])});default:return t}},f={newMessage:function(t){return{type:"ADD_MESSAGE",text:t}}}},83:function(t,e,n){"use strict";e.a=n.p+"static/media/loading.40bf3942.svg"},89:function(t,e,n){t.exports={main:"friends_main__2Xj0f"}},9:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(5),a=n.n(r),i=n(8),o=n(86),c=n.n(o),u=n(87),s=n.n(u),l=c.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"3e289f88-561e-411a-9d9b-7a41c7a17d8c"}}),f={getPeople:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{term:"",friend:""};return l.get("users?page=".concat(t,"&count=").concat(e,"&term=").concat(n.term,"&friend=").concat(n.friend)).then((function(t){return t.data}))},postFollow:function(t){return l.post("follow/".concat(t)).then((function(t){return t.data.resultCode}))},deleteFollow:function(t){return l.delete("follow/".concat(t)).then((function(t){return t.data.resultCode}))},isAuthCheck:function(){return l.get("auth/me").then((function(t){return t.data}))},getUser:function(t){return l.get("profile/".concat(t)).then((function(t){return t.data}))},getStatusApi:function(t){return l.get("profile/status/".concat(t)).then((function(t){return t.data}))},putStatusApi:function(t){return l.put("profile/status",{status:t}).then((function(t){return t.data.resultCode}))},postLoginDataApi:function(t){var e=t.email,n=t.password,r=t.rememberMe,a=t.captcha;return l.post("auth/login",{email:e,password:n,rememberMe:r,captcha:a}).then((function(t){return t.data}))},getCaptchaApi:function(){var t=Object(i.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.get("security/get-captcha-url");case 2:return e=t.sent,t.abrupt("return",e.data.url);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),logoutApi:function(){return l.delete("auth/login").then((function(t){return t.data.resultCode}))},putProfilePhotoApi:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new s.a).append("image",e),t.next=4,l.put("profile/photo",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return r=t.sent,t.abrupt("return",r.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),profileFormSubmitApi:function(){var t=Object(i.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.put("profile",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},90:function(t,e,n){t.exports={main:"friend_main__1S5Q_"}},91:function(t,e,n){t.exports={main:"nav_main___aWJm"}}},[[229,2,3]]]);
//# sourceMappingURL=main.44ebf633.chunk.js.map